(function(){const c=document.createElement("link").relList;if(c&&c.supports&&c.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const n of s)if(n.type==="childList")for(const t of n.addedNodes)t.tagName==="LINK"&&t.rel==="modulepreload"&&o(t)}).observe(document,{childList:!0,subtree:!0});function i(s){const n={};return s.integrity&&(n.integrity=s.integrity),s.referrerPolicy&&(n.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?n.credentials="include":s.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function o(s){if(s.ep)return;s.ep=!0;const n=i(s);fetch(s.href,n)}})();const m=document.getElementById("wordInput"),S=document.getElementById("speakBtn"),C=document.getElementById("stopBtn"),y=document.getElementById("manVoice"),v=document.getElementById("womanVoice"),r=document.getElementById("languageSelect"),u=document.getElementById("themeToggle"),h=document.getElementById("fullMode"),p=document.getElementById("minimalMode");let l="man",f=[],d="",L=[],g="minimal";function T(e){return typeof e!="string"?"":e.trim().replace(/[\u0000-\u001F\u007F]/g,"").slice(0,64)}function b(e,c){return c==="minimal"?e.toLowerCase().replace(/[^a-z0-9\s]/g,""):e}function O(){const e=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",e),I(e)}function E(){const e=document.documentElement,i=(e.getAttribute("data-theme")||"light")==="dark"?"light":"dark";e.setAttribute("data-theme",i),localStorage.setItem("theme",i),I(i)}function I(e){if(u){const c=u.querySelector(".moon-icon"),i=u.querySelector(".sun-icon");c&&i&&(e==="dark"?(c.classList.add("hidden"),i.classList.remove("hidden")):(c.classList.remove("hidden"),i.classList.add("hidden")))}}O();document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{u&&u.addEventListener("click",E)}):u&&u.addEventListener("click",E);function k(){f=speechSynthesis.getVoices(),M()}function M(){if(!r)return;const e=new Set,c=r.options[0];r.innerHTML="",r.appendChild(c);const i=f.map(o=>o.lang).filter(Boolean).filter(o=>e.has(o)?!1:(e.add(o),!0)).sort((o,s)=>o.localeCompare(s));if(i.forEach(o=>{const s=document.createElement("option");s.value=o,s.textContent=N(o),r.appendChild(s)}),!d){const o=i.map(t=>t.toLowerCase()),s=["en-gb","en-us"];let n="";for(const t of s){const a=o.indexOf(t);if(a!==-1){n=i[a];break}}if(!n){const t=i.find(a=>a.toLowerCase().startsWith("en"));t&&(n=t)}n&&(d=n)}d&&(r.value=d)}function N(e){try{const[c,i]=e.split(/[-_]/),o=new Intl.DisplayNames(["en"],{type:"language"}),s=new Intl.DisplayNames(["en"],{type:"region"}),n=o.of(c)||c,t=i?s.of(i.toUpperCase()):"";return t?`${w(n)} (${t})`:w(n)}catch{return e}}function w(e){return typeof e=="string"?e.charAt(0).toUpperCase()+e.slice(1):e}k();speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=k);function V(){if(f.length===0)return null;const e=d?f.filter(n=>n.lang===d):f,c=["female","samantha","karen","susan","victoria","kate","zira","hazel","linda","lisa","maria","nancy","sarah"],i=["male","david","alex","daniel","thomas","james","john","mark","richard","michael","paul","steve"],o=e.filter(n=>{const t=n.name.toLowerCase();return l==="man"?t.includes("male")||t.includes("david")||t.includes("alex")||t.includes("daniel")||t.includes("thomas")||t.includes("james")||t.includes("john")||t.includes("mark")||t.includes("richard")||t.includes("michael"):t.includes("female")||t.includes("samantha")||t.includes("karen")||t.includes("susan")||t.includes("victoria")||t.includes("kate")||t.includes("zira")||t.includes("hazel")});if(o.length>0)return o[0];const s=e.filter(n=>{const t=n.name.toLowerCase();return l==="man"?!c.some(a=>t.includes(a)):!i.some(a=>t.includes(a))});if(s.length>0)return s[0];if(e.length>0){if(l==="man"&&e.length>0)return e[0];if(l==="woman"&&e.length>1){const n=Math.min(1,e.length-1);return e[n]}return e[0]}return f[0]}function B(){L.forEach(e=>clearTimeout(e)),L=[],"speechSynthesis"in window&&speechSynthesis.cancel()}function z(e){if(!("speechSynthesis"in window)){alert("Sorry, your browser does not support speech synthesis.");return}B();const c=b(e,g),i=V();console.log("Selected voice type:",l),console.log("Voice being used:",i?i.name:"none"),console.log("Spelling mode:",g);let o=0;c.split("").forEach(n=>{if(n===" "){o+=500;return}const t=new SpeechSynthesisUtterance(n);t.rate=.8,i&&(t.voice=i),t.lang=d||i&&i.lang||"",t.pitch=1;const a=setTimeout(()=>{speechSynthesis.speak(t)},o);L.push(a),o+=700})}y.addEventListener("click",()=>{l="man",y.classList.add("active"),v.classList.remove("active")});v.addEventListener("click",()=>{l="woman",v.classList.add("active"),y.classList.remove("active")});r.addEventListener("change",()=>{d=r.value});h&&h.addEventListener("click",()=>{g="full",h.classList.add("active"),p.classList.remove("active")});p&&p.addEventListener("click",()=>{g="minimal",p.classList.add("active"),h.classList.remove("active")});S.addEventListener("click",()=>{const e=T(m.value);e&&z(e)});C.addEventListener("click",()=>{B()});m.addEventListener("keydown",e=>{e.key==="Enter"&&S.click()});document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{m&&m.focus()}):m&&m.focus();
//# sourceMappingURL=index-BrBCWKY_.js.map
