(function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))c(i);new MutationObserver(i=>{for(const n of i)if(n.type==="childList")for(const e of n.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&c(e)}).observe(document,{childList:!0,subtree:!0});function s(i){const n={};return i.integrity&&(n.integrity=i.integrity),i.referrerPolicy&&(n.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?n.credentials="include":i.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(i){if(i.ep)return;i.ep=!0;const n=s(i);fetch(i.href,n)}})();const h=document.getElementById("wordInput"),B=document.getElementById("speakBtn"),O=document.getElementById("stopBtn"),E=document.getElementById("manVoice"),w=document.getElementById("womanVoice"),l=document.getElementById("languageSelect"),f=document.getElementById("themeToggle"),y=document.getElementById("fullMode"),L=document.getElementById("minimalMode");let u="man",d=[],r="",S=[],v="minimal";function F(t){return typeof t!="string"?"":t.trim().replace(/[\u0000-\u001F\u007F]/g,"").slice(0,64)}function M(t,o){return o==="minimal"?t.toLowerCase().replace(/[^a-z0-9\s]/g,""):t}function N(){const t=localStorage.getItem("theme")||"light";document.documentElement.setAttribute("data-theme",t),C(t)}function I(){const t=document.documentElement,s=(t.getAttribute("data-theme")||"light")==="dark"?"light":"dark";t.setAttribute("data-theme",s),localStorage.setItem("theme",s),C(s)}function C(t){if(f){const o=f.querySelector(".moon-icon"),s=f.querySelector(".sun-icon");o&&s&&(t==="dark"?(o.classList.add("hidden"),s.classList.remove("hidden")):(o.classList.remove("hidden"),s.classList.add("hidden")))}}N();document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{f&&f.addEventListener("click",I)}):f&&f.addEventListener("click",I);function T(){d=speechSynthesis.getVoices(),V()}function V(){if(!l)return;const t=new Set,o=l.options[0];l.innerHTML="",l.appendChild(o);const s=d.map(c=>c.lang).filter(Boolean).filter(c=>t.has(c)?!1:(t.add(c),!0)).sort((c,i)=>c.localeCompare(i));if(s.forEach(c=>{const i=document.createElement("option");i.value=c,i.textContent=z(c),l.appendChild(i)}),!r){const c=s.map(e=>e.toLowerCase()),i=["en-gb","en-us"];let n="";for(const e of i){const a=c.indexOf(e);if(a!==-1){n=s[a];break}}if(!n){const e=s.find(a=>a.toLowerCase().startsWith("en"));e&&(n=e)}n&&(r=n)}r&&(l.value=r)}function z(t){try{const[o,s]=t.split(/[-_]/),c=new Intl.DisplayNames(["en"],{type:"language"}),i=new Intl.DisplayNames(["en"],{type:"region"}),n=c.of(o)||o,e=s?i.of(s.toUpperCase()):"";return e?`${k(n)} (${e})`:k(n)}catch{return t}}function k(t){return typeof t=="string"?t.charAt(0).toUpperCase()+t.slice(1):t}T();speechSynthesis.onvoiceschanged!==void 0&&(speechSynthesis.onvoiceschanged=T);function D(){if(d.length===0)return null;const t=r?d.filter(n=>n.lang===r):d,o=["female","samantha","karen","susan","victoria","kate","zira","hazel","linda","lisa","maria","nancy","sarah"],s=["male","david","alex","daniel","thomas","james","john","mark","richard","michael","paul","steve"],c=t.filter(n=>{const e=n.name.toLowerCase();return u==="man"?e.includes("male")||e.includes("david")||e.includes("alex")||e.includes("daniel")||e.includes("thomas")||e.includes("james")||e.includes("john")||e.includes("mark")||e.includes("richard")||e.includes("michael"):e.includes("female")||e.includes("samantha")||e.includes("karen")||e.includes("susan")||e.includes("victoria")||e.includes("kate")||e.includes("zira")||e.includes("hazel")});if(c.length>0)return c[0];const i=t.filter(n=>{const e=n.name.toLowerCase();return u==="man"?!o.some(a=>e.includes(a)):!s.some(a=>e.includes(a))});if(i.length>0)return i[0];if(r&&d.length>0){const n=r.split("-")[0],e=d.filter(g=>{if(!g.lang.startsWith(n+"-"))return!1;const p=g.name.toLowerCase();return u==="man"?!o.some(m=>p.includes(m)):!s.some(m=>p.includes(m))});if(e.length>0)return e[0];const a=d.filter(g=>{const p=g.name.toLowerCase();return u==="man"?!o.some(m=>p.includes(m)):!s.some(m=>p.includes(m))});if(a.length>0)return a[0]}return null}function b(){S.forEach(t=>clearTimeout(t)),S=[],"speechSynthesis"in window&&speechSynthesis.cancel()}function x(t){if(!("speechSynthesis"in window)){alert("Sorry, your browser does not support speech synthesis.");return}b();const o=M(t,v),s=D();console.log("Selected voice type:",u),console.log("Voice being used:",s?s.name:"none"),console.log("Spelling mode:",v);let c=0;o.split("").forEach(n=>{if(n===" "){c+=500;return}const e=new SpeechSynthesisUtterance(n);s&&(e.voice=s),e.lang=r||s&&s.lang||"",e.pitch=1;const a=setTimeout(()=>{speechSynthesis.speak(e)},c);S.push(a),c+=700})}E.addEventListener("click",()=>{u="man",E.classList.add("active"),w.classList.remove("active")});w.addEventListener("click",()=>{u="woman",w.classList.add("active"),E.classList.remove("active")});l.addEventListener("change",()=>{r=l.value});y&&y.addEventListener("click",()=>{v="full",y.classList.add("active"),L.classList.remove("active")});L&&L.addEventListener("click",()=>{v="minimal",L.classList.add("active"),y.classList.remove("active")});B.addEventListener("click",()=>{const t=F(h.value);t&&x(t)});O.addEventListener("click",()=>{b()});h.addEventListener("keydown",t=>{t.key==="Enter"&&B.click()});document.readyState==="loading"?document.addEventListener("DOMContentLoaded",()=>{h&&h.focus()}):h&&h.focus();
//# sourceMappingURL=index-CWcVq_XP.js.map
